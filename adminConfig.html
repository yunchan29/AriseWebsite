<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <title>Arise Esports Admin Page</title>
    <link rel="stylesheet" href="/Stylesheets/style.css">
</head>
<body>
  <div id="loading-screen">
    <p>Fetching data from database.........</p>
</div>
    <div class="adminDashboard">
        <h1 class="cursiveFont">Admin Panel</h1>
        <h5>What do you want to configure?</h5>
        <div class="newsPanelContainer">
          <h4>Home page</h4>
          
          <a class="adminbtn btn btn-primary">Change background video</a>
          <a class="adminbtn btn btn-primary" href="#adminSection">Update header title/header text</a>
          <a class="adminbtn btn btn-primary" href="#newsSectionForm">Update news section</a>
          <h4>About Section</h4>
          <a class="adminbtn btn btn-primary">Configure about section</a>
          <h4>Media Section</h4>
           <a class="adminbtn btn btn-primary" href="#createPost">Create a post</a>
           <a class="adminbtn btn btn-secondary">Edit/Delete a Post</a>
           <h4>Navigation</h4>
           <a href="adminPage.html" class="adminbtn btn btn-primary">Back</a>
           <a id="btnAdminLogout"  class="adminbtn btn btn-danger">Log out</a>
           <h4>Media Preview</h4>
           <div id="postsContainer"></div>
          </div>
           <!--Update Header-->
          <div class="newsPanelContainer2">
           <div id="adminSection">
            <h3>Update Header Content</h3>
            <form id="headerForm">
              <label for="titleInput">Title:</label>
              <input class="form-control" type="text" id="titleInput" required><br>
          
              <label for="descriptionInput">Description:</label>
              <textarea class="form-control" id="descriptionInput" rows="4" required></textarea><br>
          
              <label for="imageInput">Upload Photo:</label>
              <input class="form-control" type="file" id="imageInput" accept="image/*"><br>
          
              <button class="btn btn-primary" type="submit">Update Header</button>
            </form>
          </div>
        </div>
<br>
                  <!-- Form for image upload -->
                  <div class="newsPanelContainer2">
                    
                    <h3 id="newsSectionForm">News Section Update</h3>
  <form id="imageUploadForm">
    <label for="imageTitle">Image Title:</label>
    <input class="form-control" type="text" id="imageTitle" required>

    <label for="imageFile">Select Image:</label>
    <input class="form-control" type="file" id="imageFile" accept="image/*" required>

    <button class="btn btn-primary" type="submit">Upload Image</button>
  </form>
  </div>

  <br>
        
          <!--Non Modal Upload Post-->
<br>
      <div class="newsPanelContainer2">
        <h3 id="createPost">Create a post</h3>
        
    
     
             <!-- Image preview container -->
     
        <img id="image-preview" class="img-fluid rounded" alt="Preview">
   
      
      <!-- File input and upload button -->
      <div class="custom-file">
        <input class="form-control" type="file" class="custom-file-input" id="image-input" accept="image/*">
      <br>
      </div>
          <label for="exampleFormControlTextarea1" class="form-label">Caption:</label>
          <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea><br>
        
          <button type="button" class="btn btn-success" id="upload-post-button">Upload post</button><br>
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
       
  
      </div>
      
      
        <div class="headerText container" id="dynamicHeader">
          <!-- Dynamic header content will be inserted here -->
        </div>
      
      
      
       
      


    
           
      <!--Modals-->
   


 


       
    </div>  
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/10.5.2/firebase-app.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/10.5.2/firebase-auth.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/10.5.2/firebase-storage.js"></script>    
    <script type="module" src="JavaScript/firebase.js"></script>
    <script src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script>
      // Function to handle image preview
      function previewImage(input) {
        var preview = document.getElementById('image-preview');
        var file = input.files[0];
        var reader = new FileReader();
    
        reader.onload = function(e) {
          preview.src = e.target.result;
          // Set alt attribute only if a file is selected
          preview.alt = file ? 'Preview' : '';
        };
    
        if (file) {
          reader.readAsDataURL(file);
        } else {
          // If no file is selected, clear the preview and alt attribute
          preview.src = '';
          preview.alt = '';
        }
      }
    
      // Attach the previewImage function to the change event of the file input
      document.getElementById('image-input').addEventListener('change', function() {
        previewImage(this);
      });
    
      // Clear preview and alt attribute when the modal is shown
      $('#exampleModal').on('show.bs.modal', function () {
        document.getElementById('image-input').value = ''; // Clear the file input
        document.getElementById('image-preview').src = ''; // Clear the preview
        document.getElementById('image-preview').alt = ''; // Clear the alt attribute
      });
    </script>
    
    
</body>
</html>